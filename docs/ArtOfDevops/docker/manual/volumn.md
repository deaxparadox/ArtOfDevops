# Docker volumnes

Volumes are persistent storage mechanisms managed by the Docker daemon. They retain data even after the containers using them are removed. Volume data is stored on the filesystem on the host, but in order to interact with the data in the volume, you must mount the volume to a container. Directly accessing or interacting with the volume data is unsupported, undefined behavior, and may result in the volume or its data breaking in unexpected ways.

Volumes are ideal for performance-critical data processing and long-term storage needs. Since the storage location is managed on the daemon host, volumes provide the same raw file performance as accessing the host filesystem directly.


### Creating docker volume

To create a volumn explicitly using command, run the following command:

```sh
$ docker volume create
```

or Docker can create a volume during container or server creation.

### When to use volumes

Volumes are the preferred mechanism for persisting data generated by and used by Docker containers, volumes are completely manager by Docker.

Volumes are good choice for the following use cases:

- Volumes are easier to back up or migrate than bind mounts.
- You can manage volumes using Docker CLI commands or the Docker API.
- Volumes work on both Linux and Windows containers.
- Volumes can be more safely shared among multiple containers.
- New volumes can have their content pre-populated by a container or build.
- When your application requires high-performance I/O.

Volumes are not a good choice if you need to access the files from the host, as the volume are completely manager by Docker. 

----------

- Use **bind mount** if you need to access files or directories from both containers and the host.

- If you container generates non-persistent state data, consider using a **tmpfs mount** to avoid storing the data anywhere permanently.

----------

Volumes use `rprivate` (recursive private) bind propagation, and bind propagation isn't configurable for volumes.

Using a volume ensures that the data is persisted even if the container using it is removed.

A given volume can be mounted into multiple containers simultaneously. When no running container is using a volume, the volume is still available to Docker and isn't removed automatically. 

You can remove unused volumes using:

```sh
$ docker volume prune
```

### Mounting a volume over existing data

If you mount a *non-empty volume* into a directory in the container in which files or directories exist, the pre-existing files are obscured by the mount. This is similar to if you were to save files into `/mnt` on a Linux host, and then mounted a USB drive into `/mnt`. The contents of `/mnt` would be obscured by the contents of the USB drive until the USB drive was unmounted.

With containers, there's no straightforward way of removing a mount to reveal the obscured files again. Your best option is to recreate the container without the mount.

If you mount an *empty volume* into a directory in the container in which files or directories exist, these files or directories are propagated (copied) into the volume by default. Similarly, if you start a container and specify a volume which does not already exist, an empty volume is created for you. This is a good way to pre-populate data that another container needs.

To prevent Docker from copying a container's pre-exisiting files into an empty volumn, use the `volume-nocopy` option.

### Named and anonymous volumes

A volume may be named or anonymous. Anonymous volumes are given a random